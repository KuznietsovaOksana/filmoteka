function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},t.parcelRequired7c6=i),i("kyEFX").register(JSON.parse('{"5ZPII":"index.0f7d40ea.js","fFjmw":"default-photo.6a14a3a8.jpeg","5UbS1":"index.26ef3a0c.css","eM9ss":"library.c38c6e82.js"}')),i("7me8F");var l=i("7me8F");var r,o=e(i("1Gatq")).template({1:function(e,t,n,a,i){var l,r=null!=t?t:e.nullContext||{},o=e.hooks.helperMissing,s="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <li class="cards__item card" data-movieid="'+c(typeof(l=null!=(l=d(n,"id")||(null!=t?d(t,"id"):t))?l:o)===s?l.call(r,{name:"id",hash:{},data:i,loc:{start:{line:2,column:45},end:{line:2,column:51}}}):l)+'">\n    <a href="#">\n      <div class="card__img">\n        <img src="'+c(typeof(l=null!=(l=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?l:o)===s?l.call(r,{name:"poster_path",hash:{},data:i,loc:{start:{line:5,column:18},end:{line:5,column:33}}}):l)+'" alt="'+c(typeof(l=null!=(l=d(n,"title")||(null!=t?d(t,"title"):t))?l:o)===s?l.call(r,{name:"title",hash:{},data:i,loc:{start:{line:5,column:40},end:{line:5,column:49}}}):l)+'" />\n      </div>\n      <div class="card__info">\n        <h2 class="card__title">'+c(typeof(l=null!=(l=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?l:o)===s?l.call(r,{name:"original_title",hash:{},data:i,loc:{start:{line:8,column:32},end:{line:8,column:50}}}):l)+'</h2>\n        <ul class="card__genres">'+c(typeof(l=null!=(l=d(n,"genres")||(null!=t?d(t,"genres"):t))?l:o)===s?l.call(r,{name:"genres",hash:{},data:i,loc:{start:{line:9,column:33},end:{line:9,column:43}}}):l)+'\n        </ul>\n        <span class="card__year">'+c(typeof(l=null!=(l=d(n,"release_date")||(null!=t?d(t,"release_date"):t))?l:o)===s?l.call(r,{name:"release_date",hash:{},data:i,loc:{start:{line:11,column:33},end:{line:11,column:49}}}):l)+"</span>\n      </div>\n    </a>\n  </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,i){var l;return null!=(l=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:15,column:9}}}))?l:""},useData:!0});r=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]}');var s,c=i("ioBS9"),d=i("3ab2c");s=new URL(i("kyEFX").resolve("fFjmw"),import.meta.url).toString();const u=document.querySelector(".cards"),m=document.querySelector("#search-form"),p=document.querySelector(".search-field"),_=document.querySelector(".js-warning"),g=document.querySelector(".js-search-results");let h=1;const f=new(0,l.MovieDB);async function y(e){try{const{data:t}=await f.fetchSearch(e);return b(t.page,t.total_pages),p.value="",0===t.results.length?(_.textContent="Search result not successful. Enter the correct movie name and try again",void setTimeout((()=>{_.textContent=""}),3e3)):(w(t.results),t)}catch(e){console.log(e)}}async function v(){u.dataset.position="trends";try{const{data:e}=await f.fetchTrendMovies(h);return b(e.page,e.total_pages),e&&(0,c.loaderRender)(),w(e.results),e}catch(e){console.log(e)}}function w(t){const n=t.map((t=>{const n=t.genre_ids.map((t=>e(r).genres.map((e=>{if(e.id===t)return e.name})).join("")));let a="";n.length<4&&(a=n.join(", ")),n.length>=4&&(a=n.slice(0,2).join(", ")+", Other"),0===t.genre_ids.length&&(a="Other");let i="";const l=e(s);i=null!==t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:l;const o=(0,d.numberConverter)(t.vote_average);return{...t,poster_path:i,genres:a,release_date:t.release_date.slice(0,4),vote_average:o}}));u.innerHTML=o(n)}function b(e,t){let n="";h=e,e>1&&(n+='<li class="pagination__item slider-arrow prev">&#129144</li>',n+='<li class="pagination__item">1</li>'),e>4&&(n+='<li class="pagination__item dots">...</li>'),e>3&&(n+=`<li class="pagination__item">${e-2}</li>`),e>2&&(n+=`<li class="pagination__item">${e-1}</li>`),n+=`<li class="pagination__item pagination__item--current">${e}</li>`,t-1>e&&(n+=`<li class="pagination__item">${e+1}</li>`),t-2>e&&(n+=`<li class="pagination__item">${e+2}</li>`),t-3>e&&(n+='<li class="pagination__item dots">...</li>'),t>e&&(n+=`<li class="pagination__item">${t}</li>`,n+='<li class="pagination__item slider-arrow next">&#129146</li>'),x.innerHTML=n}v(),m.addEventListener("submit",(async function(e){e.preventDefault(),u.dataset.position="searched";if(0===e.target.elements.query.value.trim().length)return g.textContent="Please enter your request",setTimeout((()=>{g.textContent=""}),3e3),void e.currentTarget.reset();f.searchQuery=e.target.elements.query.value,y(1)}));const x=document.querySelector(".pagination__list");x.addEventListener("click",(async function(e){if("LI"!==e.target.nodeName)return;if("..."===e.target.textContent)return;if("ðŸ¡¸"===e.target.textContent){if(window.scrollTo(0,0),"trends"===u.dataset.position)return void v(h-=1).then((e=>{w(e.results),b(e.page,e.total_pages)}));if("searched"===u.dataset.position)return void y(h-=1).then((e=>{w(e.results),b(e.page,e.total_pages)}))}if("ðŸ¡º"===e.target.textContent){if(window.scrollTo(0,0),"trends"===u.dataset.position)return void v(h+=1).then((e=>{w(e.results),b(e.page,e.total_pages)}));if("searched"===u.dataset.position)return void y(h+=1).then((e=>{w(e.results),b(e.page,e.total_pages)}))}const t=Number(e.target.textContent);if(h=t,window.scrollTo(0,0),"trends"===u.dataset.position)return void v().then((e=>{w(e.results),b(e.page,e.total_pages)}));if("searched"===u.dataset.position)return void y(h).then((e=>{w(e.results),b(e.page,e.total_pages)}))})),i("22vBn"),i("baGT8"),i("lJ5oQ"),i("56a1K"),i("3ab2c");
//# sourceMappingURL=index.0f7d40ea.js.map
