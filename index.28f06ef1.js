!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a("1h2Gi");var i,o=a("bpxeT"),s=a("dDDEV"),c=a("2TvXO"),l=a("1h2Gi"),u=a("3ha8z");i=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]}');var d=a("4smAb"),p=a("2GCP7"),m=document.querySelector(".cards"),f=document.querySelector("#search-form"),g=document.querySelector(".search-field"),v=document.querySelector(".js-warning"),h=document.querySelector(".js-search-results"),_=1,b=new(0,l.MovieDB);function y(){return(y=e(o)(e(c).mark((function t(n,r){var a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),m.dataset.position="searched",a=n.target.elements.query.value.trim(),console.log(a),0!==a.length){e.next=9;break}return h.textContent="Please enter your request",setTimeout((function(){h.textContent=""}),3e3),n.currentTarget.reset(),e.abrupt("return");case 9:b.searchQuery=n.target.elements.query.value,x(r);case 11:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function x(e){return w.apply(this,arguments)}function w(){return(w=e(o)(e(c).mark((function t(n){var r,a,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.fetchSearch(n);case 3:if(r=e.sent.data,a=r.page,i=r.total_pages,E(a,i),g.value="",console.log(r.results),0!==r.results.length){e.next=13;break}return v.textContent="Search result not successful. Enter the correct movie name and try again",setTimeout((function(){v.textContent=""}),3e3),e.abrupt("return");case 13:return S(r.results),e.abrupt("return",r);case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),t,null,[[0,17]])})))).apply(this,arguments)}function k(){return L.apply(this,arguments)}function L(){return(L=e(o)(e(c).mark((function t(){var n,r,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(m),m.dataset.position="trends",e.prev=2,e.next=5,b.fetchTrendMovies(_);case 5:return n=e.sent.data,r=n.page,a=n.total_pages,E(r,a),n&&(0,d.loaderRender)(),S(n.results),e.abrupt("return",n);case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}}),t,null,[[2,14]])})))).apply(this,arguments)}function S(t){var n=t.map((function(t){var n=t.genre_ids.map((function(t){return e(i).genres.map((function(e){if(e.id===t)return e.name})).join("")})),r="";n.length>=3?r=n.slice(0,2).join(", ")+", Other":r=n.join(", ");var a=(0,p.numberConverter)(t.vote_average);return e(s)({},t,{poster_path:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),genres:r,release_date:t.release_date.slice(0,4),vote_average:a})}));m.innerHTML=(0,u.default)(n)}function E(e,t){var n="",r=e-1,a=e+1,i=e+2;_=e,e>1&&(n+='<li class="pagination__item slider-arrow prev">&#129144</li>',n+='<li class="pagination__item">1</li>'),e>4&&(n+='<li class="pagination__item dots">...</li>'),e>3&&(n+='<li class="pagination__item">'.concat(e-2,"</li>")),e>2&&(n+='<li class="pagination__item">'.concat(r,"</li>")),n+='<li class="pagination__item pagination__item--current">'.concat(e,"</li>"),t-1>e&&(n+='<li class="pagination__item">'.concat(a,"</li>")),t-2>e&&(n+='<li class="pagination__item">'.concat(i,"</li>")),t-3>e&&(n+='<li class="pagination__item dots">...</li>'),t>e&&(n+='<li class="pagination__item">'.concat(t,"</li>"),n+='<li class="pagination__item slider-arrow next">&#129146</li>'),q.innerHTML=n}k(),f.addEventListener("submit",(function(e,t){return y.apply(this,arguments)}));var q=document.querySelector(".pagination__list");function C(){return(C=e(o)(e(c).mark((function t(n){var r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("LI"===n.target.nodeName){e.next=2;break}return e.abrupt("return");case 2:if("..."!==n.target.textContent){e.next=4;break}return e.abrupt("return");case 4:if("ðŸ¡¸"!==n.target.textContent){e.next=12;break}if("trends"!==m.dataset.position){e.next=8;break}return k(_-=1).then((function(e){S(e.results),E(e.page,e.total_pages)})),e.abrupt("return");case 8:if("searched"!==m.dataset.position){e.next=12;break}return console.log("searchres click next"),x(_-=1).then((function(e){S(e.results),E(e.page,e.total_pages)})),e.abrupt("return");case 12:if("ðŸ¡º"!==n.target.textContent){e.next=20;break}if("trends"!==m.dataset.position){e.next=16;break}return k(_+=1).then((function(e){S(e.results),E(e.page,e.total_pages)})),e.abrupt("return");case 16:if("searched"!==m.dataset.position){e.next=20;break}return console.log("searchres click next"),x(_+=1).then((function(e){S(e.results),E(e.page,e.total_pages)})),e.abrupt("return");case 20:if(r=Number(n.target.textContent),_=r,"trends"!==m.dataset.position){e.next=25;break}return k(_).then((function(e){S(e.results),E(e.page,e.total_pages)})),e.abrupt("return");case 25:if("searched"!==m.dataset.position){e.next=29;break}return console.log("searchres click next"),x(_).then((function(e){S(e.results),E(e.page,e.total_pages)})),e.abrupt("return");case 29:case"end":return e.stop()}}),t)})))).apply(this,arguments)}q.addEventListener("click",(function(e){return C.apply(this,arguments)})),a("3PkEy");var T=document.querySelector(".js-team-modal"),D=document.querySelector("[data-modal-team-close]"),M=document.querySelector("[data-modal-team]"),O=document.querySelector(".backdrop-team"),j=document.querySelector("body");function F(){M.classList.add("is-hidden"),j.classList.remove("noScroll"),D.removeEventListener("click",F),O.removeEventListener("click",H),window.removeEventListener("keydown",N)}function H(e){e.target===O&&(j.classList.remove("noScroll"),F())}function N(e){"Escape"===e.code&&(j.classList.remove("noScroll"),F())}T.addEventListener("click",(function(e){e.preventDefault(),j.classList.add("noScroll"),M.classList.remove("is-hidden"),D.addEventListener("click",F),O.addEventListener("click",H),window.addEventListener("keydown",N)})),a("c01wF");var A=document.querySelector(".back_to_top");window.addEventListener("scroll",(function(){var e=window.pageYOffset,t=document.documentElement.clientHeight;e>t&&A.classList.add("back_to_top-show");e<t&&A.classList.remove("back_to_top-show")})),A.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),a("2GCP7")}();
//# sourceMappingURL=index.28f06ef1.js.map
