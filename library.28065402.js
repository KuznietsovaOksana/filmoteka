function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},l={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in l){var t=l[e];delete l[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){l[e]=t},t.parcelRequired7c6=a),a("56a1K"),a("lJ5oQ");var i=a("ioBS9");var o=e(a("1Gatq")).template({1:function(e,t,n,l,a){var i,o=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <li class="cards__item card" data-movieid="'+c(typeof(i=null!=(i=u(n,"id")||(null!=t?u(t,"id"):t))?i:r)===s?i.call(o,{name:"id",hash:{},data:a,loc:{start:{line:2,column:45},end:{line:2,column:51}}}):i)+'">\n    <a href="#">\n      <div class="card__img">\n        <img src="'+c(typeof(i=null!=(i=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?i:r)===s?i.call(o,{name:"poster_path",hash:{},data:a,loc:{start:{line:5,column:18},end:{line:5,column:33}}}):i)+'" alt="'+c(typeof(i=null!=(i=u(n,"title")||(null!=t?u(t,"title"):t))?i:r)===s?i.call(o,{name:"title",hash:{},data:a,loc:{start:{line:5,column:40},end:{line:5,column:49}}}):i)+'" />\n      </div>\n      <div class="card__info">\n        <h2 class="card__title">'+c(typeof(i=null!=(i=u(n,"original_title")||(null!=t?u(t,"original_title"):t))?i:r)===s?i.call(o,{name:"original_title",hash:{},data:a,loc:{start:{line:8,column:32},end:{line:8,column:50}}}):i)+'</h2>\n        <ul class="card__genres">'+c(typeof(i=null!=(i=u(n,"genres")||(null!=t?u(t,"genres"):t))?i:r)===s?i.call(o,{name:"genres",hash:{},data:a,loc:{start:{line:9,column:33},end:{line:9,column:43}}}):i)+'\n        </ul>\n        <span class="card__year">'+c(typeof(i=null!=(i=u(n,"release_date")||(null!=t?u(t,"release_date"):t))?i:r)===s?i.call(o,{name:"release_date",hash:{},data:a,loc:{start:{line:11,column:33},end:{line:11,column:49}}}):i)+'</span>\n        <span class="card__rating">'+c(typeof(i=null!=(i=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?i:r)===s?i.call(o,{name:"vote_average",hash:{},data:a,loc:{start:{line:12,column:35},end:{line:12,column:51}}}):i)+"</span>\n      </div>\n    </a>\n  </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,a){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:16,column:9}}}))?i:""},useData:!0}),r=a("3ab2c");const s=document.querySelector(".pagination__list"),c=document.querySelector(".cards"),u=document.querySelector(".empty"),d=document.querySelector(".cards"),m=document.querySelector("[data-modal-close]"),p=document.querySelector("[data-modal]"),f=document.querySelector(".backdrop"),g=document.getElementById("js-WatchedButton"),_=document.getElementById("js-QueueButton");let h=1,v=null;function w(e){let t=JSON.parse(localStorage.getItem(e));if(null!==t)return t}function y(){null!==JSON.parse(localStorage.getItem("watched films"))&&q("watched films","watched",1)}function q(e,t,n){const l=w(e);if(null===l)return;c.dataset.position=t,c.dataset.page=n;let a=L(l).length;v=n-1;let i=L(l)[v];"undefined"!==i&&(function(e){if(void 0===e)return;const t=e.map((e=>{console.log(e);const t=(0,r.numberConverter)(e.vote_average);return{...e,poster_path:`https://image.tmdb.org/t/p/w500${e.poster_path}`,genres:e.filmGenres,release_date:e.release_date.slice(0,4),vote_average:t}}));u.innerHTML="",c.innerHTML=o(t)}(i),function(e,t){let n="",l=e-2,a=e-1;h=e;let i=e+1,o=e+2;e>1&&(n+='<li class="pagination__item slider-arrow prev">&#129144</li>',n+='<li class="pagination__item">1</li>');e>4&&(n+='<li class="pagination__item dots">...</li>');e>3&&(n+=`<li class="pagination__item">${l}</li>`);e>2&&(n+=`<li class="pagination__item">${a}</li>`);n+=`<li class="pagination__item pagination__item--current">${e}</li>`,t-1>e&&(n+=`<li class="pagination__item">${i}</li>`);t-2>e&&(n+=`<li class="pagination__item">${o}</li>`);t-3>e&&(n+='<li class="pagination__item dots">...</li>');t>e&&(n+=`<li class="pagination__item">${t}</li>`,n+='<li class="pagination__item slider-arrow next">&#129146</li>');s.innerHTML=n}(n,a))}function L(e){return e.map((function(t,n){return n%20==0?e.slice(n,n+20):null})).filter((function(e){return e}))}function E(){if(p.classList.add("is-hidden"),m.removeEventListener("click",E),f.removeEventListener("click",k),window.removeEventListener("keydown",b),"watched"===c.dataset.position){q("watched films","watched",Number(c.dataset.page))}if("queued"===c.dataset.position){const e=w("films in queue");let t=L(e).length,n=L(e)[v];if(console.log("allPages :>> ",t),console.log("arrPortion :>> ",n),c.dataset.page===t&&1===n.length)return void q("films in queue","queued",1);q("films in queue","queued",Number(c.dataset.page))}}function k(e){e.target===f&&E()}function b(e){"Escape"===e.code&&E()}(0,i.loaderRender)(),g.addEventListener("click",y),_.addEventListener("click",(function(){if(null===JSON.parse(localStorage.getItem("films in queue")))return;q("films in queue","queued",1)})),d.addEventListener("click",(async function(e){e.preventDefault(),e.target.closest("li")&&(p.classList.remove("is-hidden"),m.addEventListener("click",E),f.addEventListener("click",k),window.addEventListener("keydown",b),console.log("I clicked on card"))})),y(),s.addEventListener("click",(function(e){if("LI"!==e.target.nodeName)return;if("..."===e.target.textContent)return;if("ðŸ¡¸"===e.target.textContent){if(window.scrollTo(0,0),"watched"===c.dataset.position)return h-=1,void q("watched films","watched",h);if("queued"===c.dataset.position)return h-=1,void q("films in queue","queued",h)}if("ðŸ¡º"===e.target.textContent){if(window.scrollTo(0,0),"watched"===c.dataset.position)return h+=1,void q("watched films","watched",h);if("queued"===c.dataset.position)return h+=1,void q("films in queue","queued",h)}const t=Number(e.target.textContent);if(h=t,window.scrollTo(0,0),"watched"===c.dataset.position)return void q("watched films","watched",h);if("queued"===c.dataset.position)return void q("films in queue","queued",h)})),a("22vBn"),a("baGT8");
//# sourceMappingURL=library.28065402.js.map
