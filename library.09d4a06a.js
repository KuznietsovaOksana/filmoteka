function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},l={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in i)return i[e].exports;if(e in l){var t=l[e];delete l[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){l[e]=t},n.parcelRequired7c6=a),a.register("kyEFX",(function(t,n){var i,l;e(t.exports,"register",(function(){return i}),(function(e){return i=e})),e(t.exports,"resolve",(function(){return l}),(function(e){return l=e}));var a={};i=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},l=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a("kyEFX").register(JSON.parse('{"1zJhX":"library.09d4a06a.js","6R8rW":"emptyLibrary.d7b804eb.png","5UbS1":"index.26ef3a0c.css","eM9ss":"library.c38c6e82.js"}')),a("56a1K"),a("lJ5oQ");var o=a("ioBS9");var r,s=t(a("1Gatq")).template({1:function(e,t,n,i,l){var a,o=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,s="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <li class="cards__item card" data-movieid="'+c(typeof(a=null!=(a=u(n,"id")||(null!=t?u(t,"id"):t))?a:r)===s?a.call(o,{name:"id",hash:{},data:l,loc:{start:{line:2,column:45},end:{line:2,column:51}}}):a)+'">\n    <a href="#">\n      <div class="card__img">\n        <img src="'+c(typeof(a=null!=(a=u(n,"poster_path")||(null!=t?u(t,"poster_path"):t))?a:r)===s?a.call(o,{name:"poster_path",hash:{},data:l,loc:{start:{line:5,column:18},end:{line:5,column:33}}}):a)+'" alt="'+c(typeof(a=null!=(a=u(n,"title")||(null!=t?u(t,"title"):t))?a:r)===s?a.call(o,{name:"title",hash:{},data:l,loc:{start:{line:5,column:40},end:{line:5,column:49}}}):a)+'" />\n      </div>\n      <div class="card__info">\n        <h2 class="card__title">'+c(typeof(a=null!=(a=u(n,"original_title")||(null!=t?u(t,"original_title"):t))?a:r)===s?a.call(o,{name:"original_title",hash:{},data:l,loc:{start:{line:8,column:32},end:{line:8,column:50}}}):a)+'</h2>\n        <ul class="card__genres">'+c(typeof(a=null!=(a=u(n,"genres")||(null!=t?u(t,"genres"):t))?a:r)===s?a.call(o,{name:"genres",hash:{},data:l,loc:{start:{line:9,column:33},end:{line:9,column:43}}}):a)+'\n        </ul>\n        <span class="card__year">'+c(typeof(a=null!=(a=u(n,"release_date")||(null!=t?u(t,"release_date"):t))?a:r)===s?a.call(o,{name:"release_date",hash:{},data:l,loc:{start:{line:11,column:33},end:{line:11,column:49}}}):a)+'</span>\n        <span class="card__rating">'+c(typeof(a=null!=(a=u(n,"vote_average")||(null!=t?u(t,"vote_average"):t))?a:r)===s?a.call(o,{name:"vote_average",hash:{},data:l,loc:{start:{line:12,column:35},end:{line:12,column:51}}}):a)+"</span>\n      </div>\n    </a>\n  </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,l){var a;return null!=(a=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:16,column:9}}}))?a:""},useData:!0}),c=a("3ab2c");r=new URL(a("kyEFX").resolve("6R8rW"),import.meta.url).toString();const u=document.querySelector(".pagination__list"),d=document.querySelector(".cards"),m=document.querySelector(".empty"),f=document.querySelector(".cards"),p=document.querySelector("[data-modal-close]"),g=document.querySelector("[data-modal]"),_=document.querySelector(".backdrop"),h=document.getElementById("js-WatchedButton"),v=document.getElementById("js-QueueButton");let y=1,w=null;function b(e){let t=JSON.parse(localStorage.getItem(e));if(null!==t)return t}function q(){null!==JSON.parse(localStorage.getItem("watched films"))&&E("watched films","watched",1)}function E(e,t,n){const i=b(e);if(null===i)return;d.dataset.position=t,d.dataset.page=n;let l=L(i).length;w=n-1;let a=L(i)[w];"undefined"!==a&&(function(e){if(void 0===e)return;const t=e.map((e=>{const t=(0,c.numberConverter)(e.vote_average);return{...e,poster_path:`https://image.tmdb.org/t/p/w500${e.poster_path}`,genres:e.filmGenres,release_date:e.release_date.slice(0,4),vote_average:t}}));m.innerHTML="",d.innerHTML=s(t)}(a),function(e,t){let n="",i=e-2,l=e-1;y=e;let a=e+1,o=e+2;e>1&&(n+='<li class="pagination__item slider-arrow prev">&#129144</li>',n+='<li class="pagination__item">1</li>');e>4&&(n+='<li class="pagination__item dots">...</li>');e>3&&(n+=`<li class="pagination__item">${i}</li>`);e>2&&(n+=`<li class="pagination__item">${l}</li>`);n+=`<li class="pagination__item pagination__item--current">${e}</li>`,t-1>e&&(n+=`<li class="pagination__item">${a}</li>`);t-2>e&&(n+=`<li class="pagination__item">${o}</li>`);t-3>e&&(n+='<li class="pagination__item dots">...</li>');t>e&&(n+=`<li class="pagination__item">${t}</li>`,n+='<li class="pagination__item slider-arrow next">&#129146</li>');u.innerHTML=n}(n,l))}function L(e){return e.map((function(t,n){return n%5==0?e.slice(n,n+5):null})).filter((function(e){return e}))}function S(){if(g.classList.add("is-hidden"),p.removeEventListener("click",S),_.removeEventListener("click",k),window.removeEventListener("keydown",x),"watched"===d.dataset.position){let e=Number(d.dataset.page),n=Number(g.dataset.filmAmount),i=b("watched films"),l=L(i).length;if(!l)return console.log("–¢—É—Ç –∑–∞–≥–ª—É—à–∫–∞"),m.innerHTML=`\n            <div class="empty">\n                <p class="empty__text">Ooops...You didn't select any movie</p>\n                <img src="${t(r)}" alt="Man searching" class="empty__img" />\n            </div>\n        `,void(d.innerHTML="");e>l&&E("watched films","watched",l),n!==i.length&&E("watched films","watched",l)}if("queued"===d.dataset.position){let e=Number(d.dataset.page),n=Number(g.dataset.filmAmount),i=b("films in queue"),l=L(i).length;if(!l)return console.log("–¢—É—Ç –∑–∞–≥–ª—É—à–∫–∞"),m.innerHTML=`\n            <div class="empty">\n                <p class="empty__text">Ooops...You didn't select any movie</p>\n                <img src="${t(r)}" alt="Man searching" class="empty__img" />\n            </div>\n        `,void(d.innerHTML="");e>l&&E("films in queue","queued",l),n!==i.length&&E("films in queue","queued",l)}}function k(e){e.target===_&&S()}function x(e){"Escape"===e.code&&S()}(0,o.loaderRender)(),h.addEventListener("click",q),v.addEventListener("click",(function(){if(null===JSON.parse(localStorage.getItem("films in queue")))return;E("films in queue","queued",1)})),f.addEventListener("click",(async function(e){if(e.preventDefault(),e.target.closest("li")){if(g.classList.remove("is-hidden"),p.addEventListener("click",S),_.addEventListener("click",k),window.addEventListener("keydown",x),"watched"===d.dataset.position){let e=b("watched films").length;g.dataset.filmAmount=e}if("queued"===d.dataset.position){let e=b("films in queue").length;g.dataset.filmAmount=e}}})),q(),u.addEventListener("click",(function(e){if("LI"!==e.target.nodeName)return;if("..."===e.target.textContent)return;if("ü°∏"===e.target.textContent){if(window.scrollTo(0,0),"watched"===d.dataset.position)return y-=1,void E("watched films","watched",y);if("queued"===d.dataset.position)return y-=1,void E("films in queue","queued",y)}if("ü°∫"===e.target.textContent){if(window.scrollTo(0,0),"watched"===d.dataset.position)return y+=1,void E("watched films","watched",y);if("queued"===d.dataset.position)return y+=1,void E("films in queue","queued",y)}const t=Number(e.target.textContent);if(y=t,window.scrollTo(0,0),"watched"===d.dataset.position)return void E("watched films","watched",y);if("queued"===d.dataset.position)return void E("films in queue","queued",y)})),a("22vBn"),a("baGT8");
//# sourceMappingURL=library.09d4a06a.js.map
