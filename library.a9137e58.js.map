{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,wBAIA,MAAMC,EAAQC,SAASC,cAAc,UAC/BC,EAAUF,SAASC,cAAc,UAEjCE,EAAuBH,SAASI,eAAe,oBAC/CC,EAAsBL,SAASI,eAAe,mBAIpD,EAAAP,EAAAS,gBAEAH,EAAqBI,iBAAiB,SAeM,WACxCC,aAAeC,KAAKC,MAAMC,aAAaC,QArBf,kBAsBxBC,QAAQC,IAAIN,cACZO,EAAgBP,a,IAjBpBH,EAAoBE,iBAAiB,SAqBE,WACnCS,YAAcP,KAAKC,MAAMC,aAAaC,QA3BhB,mBA4BtBC,QAAQC,IAAIE,aACZD,EAAgBC,Y,IAlBO,MAArBC,EAAoBR,KAAKC,MAAMC,aAAaC,QAZtB,kBAkCa,SAAhCG,EAAgBG,GACrB,MAAMC,EAASD,EAAME,KAAIC,IACrBR,QAAQC,IAAIO,GACZR,QAAQC,IAAIO,EAAKC,YASjB,MANmB,IACZD,EACHE,YAAa,kCAAkCF,EAAKE,cACpDC,OAAQH,EAAKC,WACbG,aAAcJ,EAAKI,aAAaC,MAAM,EAAG,GAE5B,IAGrBxB,EAAQyB,UAAY,GACpB5B,EAAM4B,WAAY,EAAAC,EAAAC,SAAaV,E,CArCF,IAA7BF,EAAkBa,QAClBf,EAAgBE","sources":["src/js/library-cards.js"],"sourcesContent":["import { loaderRender } from './preloader';\nimport cardTemplate from '../templates/film-card.hbs';\nimport genres from './genres.json';\n\nconst cards = document.querySelector('.cards');\nconst emptyEl = document.querySelector('.empty');\n\nconst watchedFilmListBtnEl = document.getElementById('js-WatchedButton');\nconst queuedFilmListBtnEl = document.getElementById('js-QueueButton');\nconst WATCHED_STORAGE_KEY = \"watched films\";\nconst QUEUE_STORAGE_KEY = \"films in queue\"\n\nloaderRender();\n\nwatchedFilmListBtnEl.addEventListener('click', onLSLoadWatched);\nqueuedFilmListBtnEl.addEventListener('click', onLSLoadQueue);\n\n\n\n// Перевірка на наявність даних в ЛокалСторедж\n// Якщо є дані, тоді рендерим картки\nconst LS_WWATCHED_ARRAY = JSON.parse(localStorage.getItem(WATCHED_STORAGE_KEY));\nif (LS_WWATCHED_ARRAY.length !== 0) {\n    renderFilmCards(LS_WWATCHED_ARRAY);\n}\n\n\n\n// Функція витягує переглянуті фільми з ЛокалСторедж\nfunction onLSLoadWatched() {\n    watchedFilms = JSON.parse(localStorage.getItem(WATCHED_STORAGE_KEY))\n    console.log(watchedFilms);\n    renderFilmCards(watchedFilms);\n}\n\n// Функція витягує фільми з черги з ЛокалСторедж\nfunction onLSLoadQueue() {\n    queuedFilms = JSON.parse(localStorage.getItem(QUEUE_STORAGE_KEY))\n    console.log(queuedFilms);\n    renderFilmCards(queuedFilms);\n}\n\n// Функція, що підготовлює дані в картку для рендеру\nfunction renderFilmCards(films) {\n    const markup = films.map(film => {\n        console.log(film);\n        console.log(film.filmGenres);\n\n        // Формую підготовлений об'єкт даних для закидання в handlebar\n        const editedFilm = {\n            ...film,\n            poster_path: `https://image.tmdb.org/t/p/w500${film.poster_path}`,\n            genres: film.filmGenres,\n            release_date: film.release_date.slice(0, 4),\n        };\n        return editedFilm;\n    });\n\n    emptyEl.innerHTML = '';\n    cards.innerHTML = cardTemplate(markup);\n}"],"names":["$ioBS9","parcelRequire","$120d9dea778dffdf$var$cards","document","querySelector","$120d9dea778dffdf$var$emptyEl","$120d9dea778dffdf$var$watchedFilmListBtnEl","getElementById","$120d9dea778dffdf$var$queuedFilmListBtnEl","loaderRender","addEventListener","watchedFilms","JSON","parse","localStorage","getItem","console","log","$120d9dea778dffdf$var$renderFilmCards","queuedFilms","$120d9dea778dffdf$var$LS_WWATCHED_ARRAY","films","markup","map","film","filmGenres","poster_path","genres","release_date","slice","innerHTML","$kW34H","default","length"],"version":3,"file":"library.a9137e58.js.map"}