!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},t.parcelRequired7c6=a),a("c01wF");var r=a("bpxeT"),o=a("dDDEV"),c=a("2TvXO"),l=a("4smAb"),d=a("3ha8z"),s=a("2GCP7"),u=document.querySelector(".pagination__list"),p=document.querySelector(".cards"),f=document.querySelector(".empty"),m=document.querySelector(".cards"),v=document.querySelector("[data-modal-close]"),g=document.querySelector("[data-modal]"),_=document.querySelector(".backdrop"),w=document.getElementById("js-WatchedButton"),h=document.getElementById("js-QueueButton"),q="watched films",y="films in queue",E=1,L=null;function k(){null!==JSON.parse(localStorage.getItem(q))&&S(q,"watched",1)}function S(t,n,i){var a=function(e){var t=JSON.parse(localStorage.getItem(e));if(null!==t)return t}(t);if(null!==a){p.dataset.position=n;var r=x(a).length;L=i-1;var c,l=x(a)[L];c=l.map((function(t){var n=(0,s.numberConverter)(t.vote_average);return e(o)({},t,{poster_path:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),genres:t.filmGenres,release_date:t.release_date.slice(0,4),vote_average:n})})),f.innerHTML="",p.innerHTML=(0,d.default)(c),function(e,t){var n="",i=e-2,a=e-1;E=e;var r=e+1,o=e+2;e>1&&(n+='<li class="pagination__item slider-arrow prev">&#129144</li>',n+='<li class="pagination__item">1</li>');e>4&&(n+='<li class="pagination__item dots">...</li>');e>3&&(n+='<li class="pagination__item">'.concat(i,"</li>"));e>2&&(n+='<li class="pagination__item">'.concat(a,"</li>"));n+='<li class="pagination__item pagination__item--current">'.concat(e,"</li>"),t-1>e&&(n+='<li class="pagination__item">'.concat(r,"</li>"));t-2>e&&(n+='<li class="pagination__item">'.concat(o,"</li>"));t-3>e&&(n+='<li class="pagination__item dots">...</li>');t>e&&(n+='<li class="pagination__item">'.concat(t,"</li>"),n+='<li class="pagination__item slider-arrow next">&#129146</li>');u.innerHTML=n}(i,r)}}function x(e){return e.map((function(t,n){return n%20==0?e.slice(n,n+20):null})).filter((function(e){return e}))}function b(){return(b=e(r)(e(c).mark((function t(n){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),n.target.closest("li")&&(g.classList.remove("is-hidden"),v.addEventListener("click",T),_.addEventListener("click",C),window.addEventListener("keydown",I),console.log("I clicked on card"));case 2:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function T(){g.classList.add("is-hidden"),v.removeEventListener("click",T),_.removeEventListener("click",C),window.removeEventListener("keydown",I),"queued"===p.dataset.position&&S(y,"queued",1),"watched"===p.dataset.position&&S(q,"watched",1)}function C(e){e.target===_&&T()}function I(e){"Escape"===e.code&&T()}(0,l.loaderRender)(),w.addEventListener("click",k),h.addEventListener("click",(function(){if(null===JSON.parse(localStorage.getItem(y)))return;S(y,"queued",1)})),m.addEventListener("click",(function(e){return b.apply(this,arguments)})),k(),u.addEventListener("click",(function(e){if("LI"!==e.target.nodeName)return;if("..."===e.target.textContent)return;if("ðŸ¡¸"===e.target.textContent){if("watched"===p.dataset.position)return void S(q,"watched",E-=1);if("queued"===p.dataset.position)return void S(y,"queued",E-=1)}if("ðŸ¡º"===e.target.textContent){if("watched"===p.dataset.position)return void S(q,"watched",E+=1);if("queued"===p.dataset.position)return void S(y,"queued",E+=1)}var t=Number(e.target.textContent);if(E=t,"watched"===p.dataset.position)return void S(q,"watched",E);if("queued"===p.dataset.position)return void S(y,"queued",E)})),a("3PkEy")}();
//# sourceMappingURL=library.22565792.js.map
