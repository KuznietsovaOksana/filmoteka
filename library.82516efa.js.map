{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-e158904d43253ea4.js","src/library.js","src/js/library-cards.js","src/templates/film-card.hbs","node_modules/@parcel/runtime-js/lib/runtime-773ad3e19e786c60.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1zJhX\\\":\\\"library.82516efa.js\\\",\\\"6R8rW\\\":\\\"emptyLibrary.d7b804eb.png\\\",\\\"5UbS1\\\":\\\"index.26ef3a0c.css\\\",\\\"eM9ss\\\":\\\"library.c38c6e82.js\\\"}\"));","import './js/to-top';\nimport './js/theme-switch';\nimport './js/library-cards';\nimport './js/modal-open-card';\nimport './js/team-modal';\n","import { loaderRender } from './preloader';\nimport cardTemplate from '../templates/film-card.hbs';\nimport { numberConverter } from './prepare-number';\nimport searchMan from '../images/emptyLibrary.png';\n\nconst paginationBox = document.querySelector('.pagination__list');\nconst cards = document.querySelector('.cards');\nconst emptyEl = document.querySelector('.empty');\nconst modalOpenEl = document.querySelector('.cards');\nconst modalCloseEl = document.querySelector('[data-modal-close]');\nconst modalEl = document.querySelector('[data-modal]');\nconst backdropEl = document.querySelector('.backdrop');\nconst watchedFilmListBtnEl = document.getElementById('js-WatchedButton');\nconst queuedFilmListBtnEl = document.getElementById('js-QueueButton');\nconst WATCHED_STORAGE_KEY = 'watched films';\nconst QUEUE_STORAGE_KEY = 'films in queue';\nconst watchedAttr = 'watched';\nconst queuedAttr = 'queued';\nlet globalCurrentPage = 1;\nlet renderFilmCardPage = null;\nconst cardsPerPage = 5;\n\nloaderRender();\n\nwatchedFilmListBtnEl.addEventListener('click', onLSLoadWatched);\nqueuedFilmListBtnEl.addEventListener('click', onLSLoadQueue);\n\n// слухач на батьківський UL карток\nmodalOpenEl.addEventListener('click', onModalOpenClick);\n\n// ================================================\n// Початкова ініціалізація сторінки\nonLSLoadWatched(WATCHED_STORAGE_KEY);\n// ================================================\n\n\n\n// ================================================\n// Функція зчитування даних з ЛС\n// повертає масив об'єктів або null\nfunction readFromLS(key) {\n    let filmsArray = JSON.parse(localStorage.getItem(key));\n    // перевірка на наявність масиву в ЛС\n    if (filmsArray === null) {\n        return;\n    }\n    return filmsArray;\n}\n// ================================================\n\n\n\n// ===========================================================\n// Функції-обробники перемикача в хедері\n// Функція-обробник кліку перемикача QUEUE\nfunction onLSLoadWatched() {\n    // перевірка на наявність масиву в ЛС\n    let filmsArray = JSON.parse(localStorage.getItem(WATCHED_STORAGE_KEY));\n    if (filmsArray === null) {\n        return;\n    }\n\n    contentRender(WATCHED_STORAGE_KEY, watchedAttr, 1);\n}\n\n// Функція-обробник кліку перемикача WATCHED\nfunction onLSLoadQueue() {\n    // перевірка на наявність масиву в ЛС\n    let filmsArray = JSON.parse(localStorage.getItem(QUEUE_STORAGE_KEY));\n    if (filmsArray === null) {\n        return;\n    }\n    contentRender(QUEUE_STORAGE_KEY, queuedAttr, 1);\n}\n// ===========================================================\n\n\n\n// ===========================================================\n// Універсальна функція вимальовки всього контенту на стоірнці\nfunction contentRender(storageKey, attrib, currPage) {\n    // витягує масив фільмів з ЛС\n    const filmArr = readFromLS(storageKey);\n\n    // перевірка на наявність масиву в ЛС\n    if (filmArr === null) {\n        return;\n    }\n\n    // змінює дата-атрибут\n    cards.dataset.position = attrib;\n    // Додаєм атрибут поточної позиції пагінації\n    cards.dataset.page = currPage;\n\n    // Визначаю кількість сторінок\n    let allPages = splitArrayOnSubarrays(filmArr).length;\n\n    // Обрізка масиву на порції\n    // При цьому треба пам'ятати, що нумерація порції даних\n    // (тобто масива в масиві) починається з 0\n    renderFilmCardPage = currPage - 1;\n    let arrPortion = splitArrayOnSubarrays(filmArr)[renderFilmCardPage];\n\n    // Перевірка підмасиву на те, чи він не пустий\n    if (arrPortion === 'undefined') {\n        return;\n    }\n\n    // рендерить масив фільмів\n    renderFilmCards(arrPortion);\n\n    // рендерить пагінацію\n    paginationMarkupRender(currPage, allPages);\n}\n// ===========================================================\n\n\n\n// ===========================================================\n/**\n * \n * @param {array} films - portion of films to render on page\n * @returns nothing\n * it creates markup with films on page and\n * using handlebar 'cardTemplate'\n * render content\n */\nfunction renderFilmCards(films) {\n    if (films === undefined) {\n        return;\n    }\n\n    const markup = films.map(film => {\n        const rating = numberConverter(film.vote_average);\n\n        // Формую підготовлений об'єкт даних для закидання в handlebar\n        const editedFilm = {\n            ...film,\n            poster_path: `https://image.tmdb.org/t/p/w500${film.poster_path}`,\n            genres: film.filmGenres,\n            release_date: film.release_date.slice(0, 4),\n            vote_average: rating,\n        };\n        return editedFilm;\n    });\n\n    emptyEl.innerHTML = '';\n    cards.innerHTML = cardTemplate(markup);\n}\n// ===========================================================\n\n\n\n// ===========================================================\n/**\n * @param {array} array - array of film objects that are located in localStorage\n * @returns - array of arrays - array with splited subarray according to 'cardsPerPage'\n * [[], [], []] \n * length of this big array - is the amount of pages\n */\nfunction splitArrayOnSubarrays(array) {\n    const splitedArray = array\n        .map(function (el, ind) {\n            return ind % cardsPerPage === 0 ? array.slice(ind, ind + cardsPerPage) : null;\n        })\n        .filter(function (el) {\n            return el;\n        });\n    return splitedArray;\n}\n// ===========================================================\n\n\n\n// ===========================================================\n// PAGINATION\n// ===========================================================\n\npaginationBox.addEventListener('click', onPaginationLibraryClick);\n\n// Функція рендеру кнопок пагінації\nfunction paginationMarkupRender(currentPage, allPages) {\n    let markup = '';\n    let beforeTwoPage = currentPage - 2;\n    let beforePage = currentPage - 1;\n    globalCurrentPage = currentPage;\n    let afterPage = currentPage + 1;\n    let afterTwoPage = currentPage + 2;\n\n    if (currentPage > 1) {\n        markup += `<li class=\"pagination__item slider-arrow prev\">&#129144</li>`;\n        markup += `<li class=\"pagination__item\">1</li>`;\n    }\n    if (currentPage > 4) {\n        markup += `<li class=\"pagination__item dots\">...</li>`;\n    }\n    if (currentPage > 3) {\n        markup += `<li class=\"pagination__item\">${beforeTwoPage}</li>`;\n    }\n    if (currentPage > 2) {\n        markup += `<li class=\"pagination__item\">${beforePage}</li>`;\n    }\n    markup += `<li class=\"pagination__item pagination__item--current\">${currentPage}</li>`;\n\n    if (allPages - 1 > currentPage) {\n        markup += `<li class=\"pagination__item\">${afterPage}</li>`;\n    }\n    if (allPages - 2 > currentPage) {\n        markup += `<li class=\"pagination__item\">${afterTwoPage}</li>`;\n    }\n    if (allPages - 3 > currentPage) {\n        markup += `<li class=\"pagination__item dots\">...</li>`;\n    }\n    if (allPages > currentPage) {\n        markup += `<li class=\"pagination__item\">${allPages}</li>`;\n        markup += `<li class=\"pagination__item slider-arrow next\">&#129146</li>`;\n    }\n    paginationBox.innerHTML = markup;\n}\n\n// Функція обробки кліків пагінації\nfunction onPaginationLibraryClick(event) {\n    if (event.target.nodeName !== 'LI') {\n        return;\n    }\n    if (event.target.textContent === '...') {\n        return;\n    }\n    if (event.target.textContent === '🡸') {\n        window.scrollTo(0, 0);\n        if (cards.dataset.position === watchedAttr) {\n            globalCurrentPage -= 1;\n            contentRender(WATCHED_STORAGE_KEY, watchedAttr, globalCurrentPage);\n            return;\n        }\n        if (cards.dataset.position === queuedAttr) {\n            globalCurrentPage -= 1;\n            contentRender(QUEUE_STORAGE_KEY, queuedAttr, globalCurrentPage);\n            return;\n        }\n    }\n    if (event.target.textContent === '🡺') {\n        window.scrollTo(0, 0);\n        if (cards.dataset.position === watchedAttr) {\n            globalCurrentPage += 1;\n            contentRender(WATCHED_STORAGE_KEY, watchedAttr, globalCurrentPage);\n            return;\n        }\n        if (cards.dataset.position === queuedAttr) {\n            globalCurrentPage += 1;\n            contentRender(QUEUE_STORAGE_KEY, queuedAttr, globalCurrentPage);\n            return;\n        }\n    }\n\n    const page = Number(event.target.textContent);\n    globalCurrentPage = page;\n    window.scrollTo(0, 0);\n    if (cards.dataset.position === watchedAttr) {\n        contentRender(WATCHED_STORAGE_KEY, watchedAttr, globalCurrentPage);\n        return;\n    }\n    if (cards.dataset.position === queuedAttr) {\n        contentRender(QUEUE_STORAGE_KEY, queuedAttr, globalCurrentPage);\n        return;\n    }\n}\n\n\n\n// ===========================================================\n// Модальне вікно\n// Функції відкриття / закриття модалки\n// ===========================================================\nasync function onModalOpenClick(event) {\n    event.preventDefault();\n    if (event.target.closest('li')) {\n        modalEl.classList.remove('is-hidden');\n        modalCloseEl.addEventListener('click', onModalCloseClick);\n        backdropEl.addEventListener('click', onBackdropElClick);\n        window.addEventListener('keydown', onEscBtnClick);\n    }\n}\n\nfunction onModalCloseClick() {\n    modalEl.classList.add('is-hidden');\n    modalCloseEl.removeEventListener('click', onModalCloseClick);\n    backdropEl.removeEventListener('click', onBackdropElClick);\n    window.removeEventListener('keydown', onEscBtnClick);\n\n    // =========================================================\n    // Логіка перерендеру сторінки при умові, що\n    // користувач перебуває на останній сторінці?\n    // на ній відображено лише один фільм\n    // і, при закритті модалки, він видаляє його з localStorage\n    // \n    // data-position=\"watched\" data-page=\"1\"\n    let currPageAttr = Number(cards.dataset.page);\n    let renewedFilmArr = readFromLS(WATCHED_STORAGE_KEY);\n    let renewedAllPages = splitArrayOnSubarrays(renewedFilmArr).length;\n\n\n    if (!renewedAllPages && currPageAttr === 1) {\n        console.log(\"Тут заглушка\");\n        cards.innerHTML = `\n            <div class=\"empty\">\n                <p class=\"empty__text\">Ooops...You didn't select any movie</p>\n                <img src=\"${searchMan}\" alt=\"Man searching\" class=\"empty__img\" />\n            </div>\n        `;\n        return;\n    }\n    // ------------------------------------------------\n    if (currPageAttr > renewedAllPages) {\n        contentRender(WATCHED_STORAGE_KEY, watchedAttr, renewedAllPages);\n    }\n\n    contentRender(WATCHED_STORAGE_KEY, watchedAttr, renewedAllPages);\n    // ------------------------------------------------\n\n\n}\n\nfunction onBackdropElClick(event) {\n    if (event.target === backdropEl) {\n        onModalCloseClick();\n    }\n}\n\nfunction onEscBtnClick(event) {\n    if (event.code === 'Escape') {\n        onModalCloseClick();\n    }\n}","{{#each this}}\n  <li class=\"cards__item card\" data-movieid=\"{{id}}\">\n    <a href=\"#\">\n      <div class=\"card__img\">\n        <img src=\"{{poster_path}}\" alt=\"{{title}}\" />\n      </div>\n      <div class=\"card__info\">\n        <h2 class=\"card__title\">{{original_title}}</h2>\n        <ul class=\"card__genres\">{{genres}}\n        </ul>\n        <span class=\"card__year\">{{release_date}}</span>\n        <span class=\"card__rating\">{{vote_average}}</span>\n      </div>\n    </a>\n  </li>\n{{/each}}","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6R8rW\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$ioBS9","$f3db9c012d4d909d$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","compiler","main","stack1","fn","program","inverse","noop","useData","$fc8cf1e9d5bbe687$exports","URL","resolve","import","meta","url","toString","$120d9dea778dffdf$var$paginationBox","document","querySelector","$120d9dea778dffdf$var$cards","$120d9dea778dffdf$var$emptyEl","$120d9dea778dffdf$var$modalOpenEl","$120d9dea778dffdf$var$modalCloseEl","$120d9dea778dffdf$var$modalEl","$120d9dea778dffdf$var$backdropEl","$120d9dea778dffdf$var$watchedFilmListBtnEl","getElementById","$120d9dea778dffdf$var$queuedFilmListBtnEl","$120d9dea778dffdf$var$globalCurrentPage","$120d9dea778dffdf$var$renderFilmCardPage","$120d9dea778dffdf$var$readFromLS","key","filmsArray","localStorage","getItem","$120d9dea778dffdf$var$onLSLoadWatched","$120d9dea778dffdf$var$contentRender","storageKey","attrib","currPage","filmArr","dataset","position","page","allPages","$120d9dea778dffdf$var$splitArrayOnSubarrays","arrPortion","films","undefined","markup","map","film","rating","$3ab2c","numberConverter","vote_average","poster_path","genres","filmGenres","release_date","slice","innerHTML","$120d9dea778dffdf$var$renderFilmCards","currentPage","beforeTwoPage","beforePage","afterPage","afterTwoPage","$120d9dea778dffdf$var$paginationMarkupRender","array","el","ind","filter","$120d9dea778dffdf$var$onModalCloseClick","classList","add","removeEventListener","$120d9dea778dffdf$var$onBackdropElClick","window","$120d9dea778dffdf$var$onEscBtnClick","currPageAttr","Number","renewedAllPages","console","log","event","target","code","loaderRender","addEventListener","async","preventDefault","closest","remove","nodeName","textContent","scrollTo"],"version":3,"file":"library.82516efa.js.map"}