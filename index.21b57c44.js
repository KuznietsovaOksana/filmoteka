function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequired7c6=a),a("7me8F");var i,r=a("7me8F"),s=a("kW34H");i=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]}');var l=a("ioBS9"),c=a("3ab2c");const d=document.querySelector(".cards"),u=document.querySelector("#search-form"),m=document.querySelector(".search-field"),p=document.querySelector(".js-warning"),g=document.querySelector(".js-search-results");let f=1;const v=new(0,r.MovieDB);async function _(e){try{const{data:t}=await v.fetchSearch(e);return w(t.page,t.total_pages),m.value="",console.log(t.results),0===t.results.length?(p.textContent="Search result not successful. Enter the correct movie name and try again",void setTimeout((()=>{p.textContent=""}),3e3)):(y(t.results),t)}catch(e){console.log(e)}}async function h(){console.log(d),d.dataset.position="trends";try{const{data:e}=await v.fetchTrendMovies(f);return w(e.page,e.total_pages),e&&(0,l.loaderRender)(),y(e.results),e}catch(e){console.log(e)}}function y(t){const n=t.map((t=>{const n=t.genre_ids.map((t=>e(i).genres.map((e=>{if(e.id===t)return e.name})).join("")));let o="";if(n.length>=3){o=n.slice(0,2).join(", ")+", Other"}else o=n.join(", ");const a=(0,c.numberConverter)(t.vote_average);return{...t,poster_path:`https://image.tmdb.org/t/p/w500${t.poster_path}`,genres:o,release_date:t.release_date.slice(0,4),vote_average:a}}));d.innerHTML=(0,s.default)(n)}function w(e,t){let n="";f=e,e>1&&(n+='<li class="pagination__item slider-arrow prev">&#129144</li>',n+='<li class="pagination__item">1</li>'),e>4&&(n+='<li class="pagination__item dots">...</li>'),e>3&&(n+=`<li class="pagination__item">${e-2}</li>`),e>2&&(n+=`<li class="pagination__item">${e-1}</li>`),n+=`<li class="pagination__item pagination__item--current">${e}</li>`,t-1>e&&(n+=`<li class="pagination__item">${e+1}</li>`),t-2>e&&(n+=`<li class="pagination__item">${e+2}</li>`),t-3>e&&(n+='<li class="pagination__item dots">...</li>'),t>e&&(n+=`<li class="pagination__item">${t}</li>`,n+='<li class="pagination__item slider-arrow next">&#129146</li>'),L.innerHTML=n}h(),u.addEventListener("submit",(async function(e,t){e.preventDefault(),d.dataset.position="searched";const n=e.target.elements.query.value.trim();if(console.log(n),0===n.length)return g.textContent="Please enter your request",setTimeout((()=>{g.textContent=""}),3e3),void e.currentTarget.reset();v.searchQuery=e.target.elements.query.value,_(t)}));const L=document.querySelector(".pagination__list");L.addEventListener("click",(async function(e){if("LI"!==e.target.nodeName)return;if("..."===e.target.textContent)return;if("ðŸ¡¸"===e.target.textContent){if("trends"===d.dataset.position)return void h(f-=1).then((e=>{y(e.results),w(e.page,e.total_pages)}));if("searched"===d.dataset.position)return console.log("searchres click next"),void _(f-=1).then((e=>{y(e.results),w(e.page,e.total_pages)}))}if("ðŸ¡º"===e.target.textContent){if("trends"===d.dataset.position)return void h(f+=1).then((e=>{y(e.results),w(e.page,e.total_pages)}));if("searched"===d.dataset.position)return console.log("searchres click next"),void _(f+=1).then((e=>{y(e.results),w(e.page,e.total_pages)}))}const t=Number(e.target.textContent);if(f=t,"trends"===d.dataset.position)return void h().then((e=>{y(e.results),w(e.page,e.total_pages)}));if("searched"===d.dataset.position)return console.log("searchres click next"),void _(f).then((e=>{y(e.results),w(e.page,e.total_pages)}))})),a("22vBn");const S=document.querySelector(".js-team-modal"),k=document.querySelector("[data-modal-team-close]"),q=document.querySelector("[data-modal-team]"),x=document.querySelector(".backdrop-team"),b=document.querySelector("body");function E(){q.classList.add("is-hidden"),b.classList.remove("noScroll"),k.removeEventListener("click",E),x.removeEventListener("click",C),window.removeEventListener("keydown",T)}function C(e){e.target===x&&(b.classList.remove("noScroll"),E())}function T(e){"Escape"===e.code&&(b.classList.remove("noScroll"),E())}S.addEventListener("click",(function(e){e.preventDefault(),b.classList.add("noScroll"),q.classList.remove("is-hidden"),k.addEventListener("click",E),x.addEventListener("click",C),window.addEventListener("keydown",T)})),a("lJ5oQ");const M=document.querySelector(".back_to_top");window.addEventListener("scroll",(function(){const e=window.pageYOffset,t=document.documentElement.clientHeight;e>t&&M.classList.add("back_to_top-show");e<t&&M.classList.remove("back_to_top-show")})),M.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),a("3ab2c");
//# sourceMappingURL=index.21b57c44.js.map
