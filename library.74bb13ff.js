!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},t.parcelRequired7c6=a),a("c01wF");var r=a("bpxeT"),o=a("dDDEV"),l=a("2TvXO"),c=a("4smAb"),d=a("3ha8z"),s=a("2GCP7"),u=document.querySelector(".pagination__list"),f=document.querySelector(".cards"),p=document.querySelector(".empty"),g=document.querySelector(".cards"),m=document.querySelector("[data-modal-close]"),v=document.querySelector("[data-modal]"),_=document.querySelector(".backdrop"),w=document.getElementById("js-WatchedButton"),h=document.getElementById("js-QueueButton"),q="watched films",y="films in queue",E=1,L=null;function k(e){var t=JSON.parse(localStorage.getItem(e));if(null!==t)return t}function S(){null!==JSON.parse(localStorage.getItem(q))&&b(q,"watched",1)}function b(t,n,i){var a=k(t);if(null!==a){f.dataset.position=n,f.dataset.page=i;var r=x(a).length;L=i-1;var l=x(a)[L];"undefined"!==l&&(function(t){if(void 0===t)return;var n=t.map((function(t){var n=(0,s.numberConverter)(t.vote_average);return e(o)({},t,{poster_path:"https://image.tmdb.org/t/p/w500".concat(t.poster_path),genres:t.filmGenres,release_date:t.release_date.slice(0,4),vote_average:n})}));p.innerHTML="",f.innerHTML=(0,d.default)(n)}(l),function(e,t){var n="",i=e-2,a=e-1;E=e;var r=e+1,o=e+2;e>1&&(n+='<li class="pagination__item slider-arrow prev">&#129144</li>',n+='<li class="pagination__item">1</li>');e>4&&(n+='<li class="pagination__item dots">...</li>');e>3&&(n+='<li class="pagination__item">'.concat(i,"</li>"));e>2&&(n+='<li class="pagination__item">'.concat(a,"</li>"));n+='<li class="pagination__item pagination__item--current">'.concat(e,"</li>"),t-1>e&&(n+='<li class="pagination__item">'.concat(r,"</li>"));t-2>e&&(n+='<li class="pagination__item">'.concat(o,"</li>"));t-3>e&&(n+='<li class="pagination__item dots">...</li>');t>e&&(n+='<li class="pagination__item">'.concat(t,"</li>"),n+='<li class="pagination__item slider-arrow next">&#129146</li>');u.innerHTML=n}(i,r))}}function x(e){return e.map((function(t,n){return n%20==0?e.slice(n,n+20):null})).filter((function(e){return e}))}function N(){return(N=e(r)(e(l).mark((function t(n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),n.target.closest("li")&&(v.classList.remove("is-hidden"),m.addEventListener("click",T),_.addEventListener("click",C),window.addEventListener("keydown",I),console.log("I clicked on card"));case 2:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function T(){if(v.classList.add("is-hidden"),m.removeEventListener("click",T),_.removeEventListener("click",C),window.removeEventListener("keydown",I),"watched"===f.dataset.position){var e=Number(f.dataset.page);b(q,"watched",e)}if("queued"===f.dataset.position){var t=k(y),n=x(t).length,i=x(t)[L];if(console.log("allPages :>> ",n),console.log("arrPortion :>> ",i),f.dataset.page===n&&1===i.length)return void b(y,"queued",1);var a=Number(f.dataset.page);b(y,"queued",a)}}function C(e){e.target===_&&T()}function I(e){"Escape"===e.code&&T()}(0,c.loaderRender)(),w.addEventListener("click",S),h.addEventListener("click",(function(){if(null===JSON.parse(localStorage.getItem(y)))return;b(y,"queued",1)})),g.addEventListener("click",(function(e){return N.apply(this,arguments)})),S(),u.addEventListener("click",(function(e){if("LI"!==e.target.nodeName)return;if("..."===e.target.textContent)return;if("ðŸ¡¸"===e.target.textContent){if("watched"===f.dataset.position)return void b(q,"watched",E-=1);if("queued"===f.dataset.position)return void b(y,"queued",E-=1)}if("ðŸ¡º"===e.target.textContent){if("watched"===f.dataset.position)return void b(q,"watched",E+=1);if("queued"===f.dataset.position)return void b(y,"queued",E+=1)}var t=Number(e.target.textContent);if(E=t,"watched"===f.dataset.position)return void b(q,"watched",E);if("queued"===f.dataset.position)return void b(y,"queued",E)})),a("3PkEy")}();
//# sourceMappingURL=library.74bb13ff.js.map
