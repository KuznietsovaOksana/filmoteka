var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},e.parcelRequired7c6=n),n("lJ5oQ");var a=n("ioBS9"),o=n("kW34H"),r=n("3ab2c");const l=document.querySelector(".pagination__list"),d=document.querySelector(".cards"),s=document.querySelector(".empty"),c=document.querySelector(".cards"),u=document.querySelector("[data-modal-close]"),f=document.querySelector("[data-modal]"),m=document.querySelector(".backdrop"),p=document.getElementById("js-WatchedButton"),g=document.getElementById("js-QueueButton");let _=1,v=null;function w(){null!==JSON.parse(localStorage.getItem("watched films"))&&h("watched films","watched",1)}function h(e,t,i){const n=function(e){let t=JSON.parse(localStorage.getItem(e));if(null!==t)return t}(e);if(null===n)return;d.dataset.position=t;let a=q(n).length;v=i-1,function(e){const t=e.map((e=>{const t=(0,r.numberConverter)(e.vote_average);return{...e,poster_path:`https://image.tmdb.org/t/p/w500${e.poster_path}`,genres:e.filmGenres,release_date:e.release_date.slice(0,4),vote_average:t}}));s.innerHTML="",d.innerHTML=(0,o.default)(t)}(q(n)[v]),function(e,t){let i="",n=e-2,a=e-1;_=e;let o=e+1,r=e+2;e>1&&(i+='<li class="pagination__item slider-arrow prev">&#129144</li>',i+='<li class="pagination__item">1</li>');e>4&&(i+='<li class="pagination__item dots">...</li>');e>3&&(i+=`<li class="pagination__item">${n}</li>`);e>2&&(i+=`<li class="pagination__item">${a}</li>`);i+=`<li class="pagination__item pagination__item--current">${e}</li>`,t-1>e&&(i+=`<li class="pagination__item">${o}</li>`);t-2>e&&(i+=`<li class="pagination__item">${r}</li>`);t-3>e&&(i+='<li class="pagination__item dots">...</li>');t>e&&(i+=`<li class="pagination__item">${t}</li>`,i+='<li class="pagination__item slider-arrow next">&#129146</li>');l.innerHTML=i}(i,a)}function q(e){return e.map((function(t,i){return i%20==0?e.slice(i,i+20):null})).filter((function(e){return e}))}function y(){f.classList.add("is-hidden"),u.removeEventListener("click",y),m.removeEventListener("click",L),window.removeEventListener("keydown",E),"queued"===d.dataset.position&&h("films in queue","queued",1),"watched"===d.dataset.position&&h("watched films","watched",1)}function L(e){e.target===m&&y()}function E(e){"Escape"===e.code&&y()}(0,a.loaderRender)(),p.addEventListener("click",w),g.addEventListener("click",(function(){if(null===JSON.parse(localStorage.getItem("films in queue")))return;h("films in queue","queued",1)})),c.addEventListener("click",(async function(e){e.preventDefault(),e.target.closest("li")&&(f.classList.remove("is-hidden"),u.addEventListener("click",y),m.addEventListener("click",L),window.addEventListener("keydown",E),console.log("I clicked on card"))})),w(),l.addEventListener("click",(function(e){if("LI"!==e.target.nodeName)return;if("..."===e.target.textContent)return;if("ðŸ¡¸"===e.target.textContent){if("watched"===d.dataset.position)return _-=1,void h("watched films","watched",_);if("queued"===d.dataset.position)return _-=1,void h("films in queue","queued",_)}if("ðŸ¡º"===e.target.textContent){if("watched"===d.dataset.position)return _+=1,void h("watched films","watched",_);if("queued"===d.dataset.position)return _+=1,void h("films in queue","queued",_)}const t=Number(e.target.textContent);if(_=t,"watched"===d.dataset.position)return void h("watched films","watched",_);if("queued"===d.dataset.position)return void h("films in queue","queued",_)})),n("22vBn");
//# sourceMappingURL=library.a4f81a65.js.map
