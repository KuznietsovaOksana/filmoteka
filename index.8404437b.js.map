{"mappings":"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","sources":["src/index.js","src/js/modal-open-card.js","src/js/team-modal.js"],"sourcesContent":["import './js/preloader';\nimport './js/pagination';\nimport './js/test-warning';\nimport './js/api-service';\nimport './js/home-page-loading';\nimport './js/modal-open-card'\nimport './js/team-modal'\nimport './js/theme-switch';\nimport './js/to-top';\n","import { MovieDB } from './api-service';\nimport { getMovieDetails } from './home-page-loading';\n// console.dir(getMovieDetails);\nconst modalOpenEl = document.querySelector('[data-modal-open]');\nconst modalCloseEl = document.querySelector('[data-modal-close]');\nconst modalEl = document.querySelector('[data-modal]');\nconst backdropEl = document.querySelector('.backdrop');\nconst modalContainerEl = document.querySelector('.tablet-container');\n// слухач на батьківський UL карток\nmodalOpenEl.addEventListener('click', onModalOpenClick);\nconst movieDB = new MovieDB();\nasync function onModalOpenClick(event) {\n  event.preventDefault();\n  if (event.target.closest('li')) {\n    // console.log('Тицаю на ЛІ');\n    modalEl.classList.remove('is-hidden');\n    modalCloseEl.addEventListener('click', onModalCloseClick);\n    backdropEl.addEventListener('click', onBackdropElClick);\n    window.addEventListener('keydown', onEscBtnClick);\n    const selectedMovie = event.target.closest('li');\n    // console.log(selectedMovie);\n    const FilmID = selectedMovie.dataset.movieid;\n    // console.log(FilmID);\n    try {\n      const { data } = await movieDB.fetchMovieById(FilmID);\n      // console.log(data);\n      renderFilmCard(data);\n      const watchedBtnEl = document.querySelector(\".watched\");\n      watchedBtnEl.addEventListener(\"click\", onWatchedBtnElClick = () => {\n        localStrgWriteWatched(data);\n      });\n      const addToQueueBtnEl = document.querySelector(\".queue\");\n      // console.log(addToQueueBtnEl);\n      addToQueueBtnEl.addEventListener(\"click\", onaddToQueueElClick = () => {\n        localStrgWriteAddToQueue(data);\n      });\n      // function onWatchedBtnElClick() {\n      //   localStorageWrite(data)\n      // }\n    } catch (err) {\n      console.log(err);\n    }\n  } else {\n    alert('Please click on film image');\n  }\n  return;\n}\nfunction onModalCloseClick() {\n  modalEl.classList.add('is-hidden');\n  modalCloseEl.removeEventListener('click', onModalCloseClick);\n  backdropEl.removeEventListener('click', onBackdropElClick);\n  window.removeEventListener('keydown', onEscBtnClick);\n}\nfunction onBackdropElClick(event) {\n  if (event.target === backdropEl) {\n    onModalCloseClick();\n  }\n}\nfunction onEscBtnClick(event) {\n  if (event.code === 'Escape') {\n    onModalCloseClick();\n  }\n}\nfunction renderFilmCard({\n  poster_path,\n  title,\n  vote_average,\n  vote_count,\n  popularity,\n  original_title,\n  overview,\n}) {\n  const markup = `\n      <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" class=\"modal-image\" alt=\"${title}\" />\n           <div class=\"description-container\">\n        <h2 class=\"film-heading\">${title}</h2>\n        <ul class=\"film-info__list\">\n          <li class=\"film-info__item\">\n            <p class=\"film-info__item--el\">Vote / Votes</p>\n            <span class=\"film-info__vote\">${vote_average}</span>\n            <span> &nbsp;/&nbsp;</span>\n            <span class=\"film-info__params\">${vote_count}</span>\n          </li>\n          <li class=\"film-info__item\">\n            <p class=\"film-info__item--el\">Popularity</p>\n            <span class=\"film-info__params\">${popularity}</span>\n          </li>\n          <li class=\"film-info__item\">\n            <p class=\"film-info__item--el\">Original Title</p>\n            <span class=\"film-info__params\">${original_title}</span>\n          </li>\n          <li class=\"film-info__item\">\n            <p class=\"film-info__item--el\">Genre</p>\n            <span class=\"film-info__params\">Western</span>\n          </li>\n        </ul>\n        <h3 class=\"film-info__about\">About</h3>\n        <p class=\"film-info__description\">\n          ${overview}\n        </p>\n        <div class=\"btn-container\">\n        <button class=\"button button__orange watched\">add to Watched</button>\n        <button class=\"button button__transparent queue\">add to queue</button>\n      </div>\n        </div>`;\n  modalContainerEl.innerHTML = markup;\n}\nconst WATCHED_STORAGE_KEY = \"watched films\";\nconst QUEUE_STORAGE_KEY = \"films in queue\"\nfunction localStrgWriteWatched(data) {\n  const watchedFilms = JSON.parse(localStorage.getItem(WATCHED_STORAGE_KEY)) || []\n  const { poster_path, title, vote_average, vote_count, popularity, original_title, overview } = data;\n  const filmData = {\n    title: title,\n    poster_path: poster_path,\n    vote_average: vote_average,\n    vote_count: vote_count,\n    popularity: popularity,\n    original_title: original_title,\n    overview: overview,\n  };\n  watchedFilms.push(filmData);\n  const stringifyData = JSON.stringify(watchedFilms);\n  localStorage.setItem(WATCHED_STORAGE_KEY, stringifyData);\n}\nfunction localStrgWriteAddToQueue(data) {\n  const watchedFilms = JSON.parse(localStorage.getItem(QUEUE_STORAGE_KEY)) || []\n  const { poster_path, title, vote_average, vote_count, popularity, original_title, overview } = data;\n  const filmData = {\n    title: title,\n    poster_path: poster_path,\n    vote_average: vote_average,\n    vote_count: vote_count,\n    popularity: popularity,\n    original_title: original_title,\n    overview: overview,\n  };\n  watchedFilms.push(filmData);\n  const stringifyData = JSON.stringify(watchedFilms);\n  localStorage.setItem(QUEUE_STORAGE_KEY, stringifyData);\n}\nfunction localStorageRemove(data) {\n  localStorage.removeItem(data)\n}\n// function onModalOpenClick(event) {\n//   event.preventDefault();\n//   if (event.target.closest('li')) {\n//     modalEl.classList.remove('is-hidden');\n//     modalCloseEl.addEventListener('click', onModalCloseClick);\n//     backdropEl.addEventListener('click', onBackdropElClick);\n//     window.addEventListener('keydown', onEscBtnClick);\n//   } else {\n//     alert('Please click on film image');\n//   }\n//   return;\n// }\n// function onModalCloseClick() {\n//   modalEl.classList.add('is-hidden');\n//   modalCloseEl.removeEventListener('click', onModalCloseClick);\n//   backdropEl.removeEventListener('click', onBackdropElClick);\n//   window.removeEventListener('keydown', onEscBtnClick);\n// }\n// function onBackdropElClick(event) {\n//   if (event.target === backdropEl) {\n//     onModalCloseClick();\n//   }\n// }\n// function onEscBtnClick(event) {\n//   if (event.code === 'Escape') {\n//     onModalCloseClick();\n//   }\n// }","const teamModalLinkEl = document.querySelector('.js-team-modal');\nconst teamModCloseEl = document.querySelector('[data-modal-team-close]')\nconst teamModalEl = document.querySelector(\"[data-modal-team]\")\nconst backdrpTeamEl = document.querySelector('.backdrop-team')\n  // слухач на батьківський UL карток\nteamModalLinkEl.addEventListener('click', onModalOpenClick);\n\nfunction onModalOpenClick(event) {\n   event.preventDefault();\n   teamModalEl.classList.remove(\"is-hidden\");\n   teamModCloseEl.addEventListener('click', onModalCloseClick);\n   backdrpTeamEl.addEventListener('click', onBackdropElClick);\n   window.addEventListener('keydown', onEscBtnClick);\n}\n\nfunction onModalCloseClick() {\n  teamModalEl.classList.add(\"is-hidden\");\n  teamModCloseEl.removeEventListener(\"click\", onModalCloseClick);\n  backdrpTeamEl.removeEventListener('click', onBackdropElClick);\n  window.removeEventListener('keydown', onEscBtnClick)\n  }\n\n function onBackdropElClick(event) {\n   if (event.target === backdrpTeamEl) {\n     onModalCloseClick();\n  }\n } \n function onEscBtnClick(event) {\n   if (event.code === 'Escape') {\n     onModalCloseClick();\n  }\n }"],"names":["parcelRequire","$bpxeT","$2c9627cdcee308a7$var$modalOpenEl","document","querySelector","$2c9627cdcee308a7$var$modalCloseEl","$2c9627cdcee308a7$var$modalEl","$2c9627cdcee308a7$var$backdropEl","$2c9627cdcee308a7$var$modalContainerEl","addEventListener","event","$2c9627cdcee308a7$var$_onModalOpenClick","apply","this","arguments","$2c9627cdcee308a7$var$movieDB","$1h2Gi","MovieDB","$parcel$interopDefault","$2TvXO","mark","_callee","selectedMovie","FilmID","data","preventDefault","target","closest","classList","remove","$2c9627cdcee308a7$var$onModalCloseClick","$2c9627cdcee308a7$var$onBackdropElClick","window","$2c9627cdcee308a7$var$onEscBtnClick","dataset","movieid","fetchMovieById","$2c9627cdcee308a7$var$renderFilmCard","_ctx","sent","onWatchedBtnElClick","$2c9627cdcee308a7$var$localStrgWriteWatched","onaddToQueueElClick","$2c9627cdcee308a7$var$localStrgWriteAddToQueue","console","log","t0","alert","add","removeEventListener","code","param","poster_path","title","vote_average","vote_count","popularity","original_title","overview","markup","concat","innerHTML","$2c9627cdcee308a7$var$WATCHED_STORAGE_KEY","$2c9627cdcee308a7$var$QUEUE_STORAGE_KEY","watchedFilms","JSON","parse","localStorage","getItem","filmData","push","stringifyData","stringify","setItem","$030efa6d71473853$var$teamModalLinkEl","$030efa6d71473853$var$teamModCloseEl","$030efa6d71473853$var$teamModalEl","$030efa6d71473853$var$backdrpTeamEl","$030efa6d71473853$var$onModalCloseClick","$030efa6d71473853$var$onBackdropElClick","$030efa6d71473853$var$onEscBtnClick"],"version":3,"file":"index.8404437b.js.map"}