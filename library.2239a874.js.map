{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,qCAIA,IAAMC,EAAQC,SAASC,cAAc,WAErC,EAAAC,EAAAC,gBAGA,IAAMC,EAAeJ,SAASK,eAAe,oBAI7CD,EAAaE,iBAAiB,SAGC,WAC3BC,aAAeC,KAAKC,MAAMC,aAAaC,QAPf,kBAQxBC,QAAQC,IAAIN,cAKSO,EAJLP,aAKVQ,EAASD,EAAME,KAAI,SAAAC,GAWrB,OAVAL,QAAQC,IAAII,GACZL,QAAQC,IAAII,EAAKC,WAGEC,EAAAtB,EAAA,IACZoB,EAAI,CACPG,YAAa,kCAAmDC,OAAjBJ,EAAKG,aACpDE,OAAQC,WACRC,aAAcP,EAAKO,aAAaC,MAAM,EAAG,I,IAIjD1B,EAAM2B,WAAY,EAAAC,EAAAC,SAAab,GAdM,IAAhBD,EACfC,C","sources":["src/js/library-cards.js"],"sourcesContent":["import { loaderRender } from './preloader';\nimport cardTemplate from '../templates/film-card.hbs';\nimport genres from './genres.json';\n\nconst cards = document.querySelector('.cards');\n\nloaderRender();\n\n\nconst watchedBtnEl = document.getElementById('js-WatchedButton');\nconst WATCHED_STORAGE_KEY = \"watched films\";\n// const QUEUE_STORAGE_KEY = \"films in queue\"\n\nwatchedBtnEl.addEventListener('click', onLSLoadWatched);\n\n// Функція витягує дані з ЛокалСторедж\nfunction onLSLoadWatched() {\n    watchedFilms = JSON.parse(localStorage.getItem(WATCHED_STORAGE_KEY))\n    console.log(watchedFilms);\n    renderFilmCards(watchedFilms);\n}\n\n// Функція, що підготовлює дані в картку для рендеру\nfunction renderFilmCards(films) {\n    const markup = films.map(film => {\n        console.log(film);\n        console.log(film.genre_ids);\n\n        // Формую підготовлений об'єкт даних для закидання в handlebar\n        const editedFilm = {\n            ...film,\n            poster_path: `https://image.tmdb.org/t/p/w500${film.poster_path}`,\n            genres: filmGenres,\n            release_date: film.release_date.slice(0, 4),\n        };\n        return editedFilm;\n    });\n    cards.innerHTML = cardTemplate(markup);\n}"],"names":["$dDDEV","parcelRequire","$7a281c26fced4abd$var$cards","document","querySelector","$4smAb","loaderRender","$7a281c26fced4abd$var$watchedBtnEl","getElementById","addEventListener","watchedFilms","JSON","parse","localStorage","getItem","console","log","films","markup","map","film","genre_ids","$parcel$interopDefault","poster_path","concat","genres","filmGenres","release_date","slice","innerHTML","$3ha8z","default"],"version":3,"file":"library.2239a874.js.map"}