var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,i.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i),i("ioBS9"),i("2nhTy"),i("l2Vhs"),i("7me8F"),i("46u89");var o=i("7me8F");i("46u89");const a=document.querySelector("[data-modal-open]"),l=document.querySelector("[data-modal-close]"),s=document.querySelector("[data-modal]"),c=document.querySelector(".backdrop"),r=document.querySelector(".tablet-container");a.addEventListener("click",(async function(e){if(e.preventDefault(),e.target.closest("li")){s.classList.remove("is-hidden"),l.addEventListener("click",u),c.addEventListener("click",m),window.addEventListener("keydown",p);const t=e.target.closest("li").dataset.movieid;try{const{data:e}=await d.fetchMovieById(t);!function({poster_path:e,title:t,vote_average:n,vote_count:i,popularity:o,original_title:a,overview:l}){const s=`\n      <img src="https://image.tmdb.org/t/p/w500${e}" class="modal-image" alt="${t}" />\n           <div class="description-container">\n        <h2 class="film-heading">${t}</h2>\n        <ul class="film-info__list">\n          <li class="film-info__item">\n            <p class="film-info__item--el">Vote / Votes</p>\n            <span class="film-info__vote">${n}</span>\n            <span> &nbsp;/&nbsp;</span>\n            <span class="film-info__params">${i}</span>\n          </li>\n          <li class="film-info__item">\n            <p class="film-info__item--el">Popularity</p>\n            <span class="film-info__params">${o}</span>\n          </li>\n          <li class="film-info__item">\n            <p class="film-info__item--el">Original Title</p>\n            <span class="film-info__params">${a}</span>\n          </li>\n          <li class="film-info__item">\n            <p class="film-info__item--el">Genre</p>\n            <span class="film-info__params">Western</span>\n          </li>\n        </ul>\n        <h3 class="film-info__about">About</h3>\n        <p class="film-info__description">\n          ${l}\n        </p>\n        <div class="btn-container">\n        <button class="button button__orange watched">add to Watched</button>\n        <button class="button button__transparent queue">add to queue</button>\n      </div>\n        </div>`;r.innerHTML=s}(e);document.querySelector(".watched").addEventListener("click",onWatchedBtnElClick=()=>{!function(e){const t=JSON.parse(localStorage.getItem("watched films"))||[],{poster_path:n,title:i,vote_average:o,vote_count:a,popularity:l,original_title:s,overview:c}=e,r={title:i,poster_path:n,vote_average:o,vote_count:a,popularity:l,original_title:s,overview:c};t.push(r);const d=JSON.stringify(t);localStorage.setItem("watched films",d)}(e)});document.querySelector(".queue").addEventListener("click",onaddToQueueElClick=()=>{!function(e){const t=JSON.parse(localStorage.getItem("films in queue"))||[],{poster_path:n,title:i,vote_average:o,vote_count:a,popularity:l,original_title:s,overview:c}=e,r={title:i,poster_path:n,vote_average:o,vote_count:a,popularity:l,original_title:s,overview:c};t.push(r);const d=JSON.stringify(t);localStorage.setItem("films in queue",d)}(e)})}catch(e){console.log(e)}}else alert("Please click on film image");return}));const d=new(0,o.MovieDB);function u(){s.classList.add("is-hidden"),l.removeEventListener("click",u),c.removeEventListener("click",m),window.removeEventListener("keydown",p)}function m(e){e.target===c&&u()}function p(e){"Escape"===e.code&&u()}const f=document.querySelector(".js-team-modal"),v=document.querySelector("[data-modal-team-close]"),_=document.querySelector("[data-modal-team]"),g=document.querySelector(".backdrop-team");function y(){_.classList.add("is-hidden"),v.removeEventListener("click",y),g.removeEventListener("click",h),window.removeEventListener("keydown",w)}function h(e){e.target===g&&y()}function w(e){"Escape"===e.code&&y()}f.addEventListener("click",(function(e){e.preventDefault(),_.classList.remove("is-hidden"),v.addEventListener("click",y),g.addEventListener("click",h),window.addEventListener("keydown",w)})),i("lJ5oQ"),i("56a1K");
//# sourceMappingURL=index.4c515a89.js.map
