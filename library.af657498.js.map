{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,qCAIA,IAAMC,EAAQC,SAASC,cAAc,UAC/BC,EAAUF,SAASC,cAAc,UAEjCE,EAAuBH,SAASI,eAAe,oBAC/CC,EAAsBL,SAASI,eAAe,kBAC9CE,EAAsB,iBAG5B,EAAAC,EAAAC,gBAEAL,EAAqBM,iBAAiB,SAeM,WACxCC,aAAeC,KAAKC,MAAMC,aAAaC,QAAQR,IAC/CS,QAAQC,IAAIN,cACZO,EAAgBP,a,IAjBpBL,EAAoBI,iBAAiB,SAqBE,WACnCS,YAAcP,KAAKC,MAAMC,aAAaC,QA3BhB,mBA4BtBC,QAAQC,IAAIE,aACZD,EAAgBC,Y,IAlBO,IAArBC,EAAoBR,KAAKC,MAAMC,aAAaC,QAAQR,IAsBjB,SAAhCW,EAAgBG,GACrB,IAAMC,EAASD,EAAME,KAAI,SAAAC,GAWrB,OAVAR,QAAQC,IAAIO,GACZR,QAAQC,IAAIO,EAAKC,YAGEC,EAAA5B,EAAA,IACZ0B,EAAI,CACPG,YAAa,kCAAmDC,OAAjBJ,EAAKG,aACpDE,OAAQL,EAAKC,WACbK,aAAcN,EAAKM,aAAaC,MAAM,EAAG,I,IAKjD5B,EAAQ6B,UAAY,GACpBhC,EAAMgC,WAAY,EAAAC,EAAAC,SAAaZ,E,CArCF,IAA7BF,EAAkBe,QAClBjB,EAAgBE,E","sources":["src/js/library-cards.js"],"sourcesContent":["import { loaderRender } from './preloader';\nimport cardTemplate from '../templates/film-card.hbs';\nimport genres from './genres.json';\n\nconst cards = document.querySelector('.cards');\nconst emptyEl = document.querySelector('.empty');\n\nconst watchedFilmListBtnEl = document.getElementById('js-WatchedButton');\nconst queuedFilmListBtnEl = document.getElementById('js-QueueButton');\nconst WATCHED_STORAGE_KEY = \"watched films\";\nconst QUEUE_STORAGE_KEY = \"films in queue\"\n\nloaderRender();\n\nwatchedFilmListBtnEl.addEventListener('click', onLSLoadWatched);\nqueuedFilmListBtnEl.addEventListener('click', onLSLoadQueue);\n\n\n\n// Перевірка на наявність даних в ЛокалСторедж\n// Якщо є дані, тоді рендерим картки\nconst LS_WWATCHED_ARRAY = JSON.parse(localStorage.getItem(WATCHED_STORAGE_KEY));\nif (LS_WWATCHED_ARRAY.length !== 0) {\n    renderFilmCards(LS_WWATCHED_ARRAY);\n}\n\n\n\n// Функція витягує переглянуті фільми з ЛокалСторедж\nfunction onLSLoadWatched() {\n    watchedFilms = JSON.parse(localStorage.getItem(WATCHED_STORAGE_KEY))\n    console.log(watchedFilms);\n    renderFilmCards(watchedFilms);\n}\n\n// Функція витягує фільми з черги з ЛокалСторедж\nfunction onLSLoadQueue() {\n    queuedFilms = JSON.parse(localStorage.getItem(QUEUE_STORAGE_KEY))\n    console.log(queuedFilms);\n    renderFilmCards(queuedFilms);\n}\n\n// Функція, що підготовлює дані в картку для рендеру\nfunction renderFilmCards(films) {\n    const markup = films.map(film => {\n        console.log(film);\n        console.log(film.filmGenres);\n\n        // Формую підготовлений об'єкт даних для закидання в handlebar\n        const editedFilm = {\n            ...film,\n            poster_path: `https://image.tmdb.org/t/p/w500${film.poster_path}`,\n            genres: film.filmGenres,\n            release_date: film.release_date.slice(0, 4),\n        };\n        return editedFilm;\n    });\n\n    emptyEl.innerHTML = '';\n    cards.innerHTML = cardTemplate(markup);\n}"],"names":["$dDDEV","parcelRequire","$7a281c26fced4abd$var$cards","document","querySelector","$7a281c26fced4abd$var$emptyEl","$7a281c26fced4abd$var$watchedFilmListBtnEl","getElementById","$7a281c26fced4abd$var$queuedFilmListBtnEl","$7a281c26fced4abd$var$WATCHED_STORAGE_KEY","$4smAb","loaderRender","addEventListener","watchedFilms","JSON","parse","localStorage","getItem","console","log","$7a281c26fced4abd$var$renderFilmCards","queuedFilms","$7a281c26fced4abd$var$LS_WWATCHED_ARRAY","films","markup","map","film","filmGenres","$parcel$interopDefault","poster_path","concat","genres","release_date","slice","innerHTML","$3ha8z","default","length"],"version":3,"file":"library.af657498.js.map"}