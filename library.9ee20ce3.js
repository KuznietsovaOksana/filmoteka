var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},e.parcelRequired7c6=n),n("lJ5oQ");var a=n("ioBS9"),o=n("kW34H"),l=n("3ab2c");const r=document.querySelector(".pagination__list"),d=document.querySelector(".cards"),s=document.querySelector(".empty"),u=document.querySelector(".cards"),c=document.querySelector("[data-modal-close]"),f=document.querySelector("[data-modal]"),m=document.querySelector(".backdrop"),p=document.getElementById("js-WatchedButton"),g=document.getElementById("js-QueueButton");let v=1,_=null;function w(e){let t=JSON.parse(localStorage.getItem(e));if(null!==t)return t}function h(){null!==JSON.parse(localStorage.getItem("watched films"))&&q("watched films","watched",1)}function q(e,t,i){const n=w(e);if(null===n)return;d.dataset.position=t,d.dataset.page=i;let a=y(n).length;_=i-1;let u=y(n)[_];"undefined"!==u&&(function(e){if(void 0===e)return;const t=e.map((e=>{const t=(0,l.numberConverter)(e.vote_average);return{...e,poster_path:`https://image.tmdb.org/t/p/w500${e.poster_path}`,genres:e.filmGenres,release_date:e.release_date.slice(0,4),vote_average:t}}));s.innerHTML="",d.innerHTML=(0,o.default)(t)}(u),function(e,t){let i="",n=e-2,a=e-1;v=e;let o=e+1,l=e+2;e>1&&(i+='<li class="pagination__item slider-arrow prev">&#129144</li>',i+='<li class="pagination__item">1</li>');e>4&&(i+='<li class="pagination__item dots">...</li>');e>3&&(i+=`<li class="pagination__item">${n}</li>`);e>2&&(i+=`<li class="pagination__item">${a}</li>`);i+=`<li class="pagination__item pagination__item--current">${e}</li>`,t-1>e&&(i+=`<li class="pagination__item">${o}</li>`);t-2>e&&(i+=`<li class="pagination__item">${l}</li>`);t-3>e&&(i+='<li class="pagination__item dots">...</li>');t>e&&(i+=`<li class="pagination__item">${t}</li>`,i+='<li class="pagination__item slider-arrow next">&#129146</li>');r.innerHTML=i}(i,a))}function y(e){return e.map((function(t,i){return i%20==0?e.slice(i,i+20):null})).filter((function(e){return e}))}function L(){if(f.classList.add("is-hidden"),c.removeEventListener("click",L),m.removeEventListener("click",E),window.removeEventListener("keydown",S),"watched"===d.dataset.position){q("watched films","watched",Number(d.dataset.page))}if("queued"===d.dataset.position){const e=w("films in queue");let t=y(e).length,i=y(e)[_];if(console.log("allPages :>> ",t),console.log("arrPortion :>> ",i),d.dataset.page===t&&1===i.length)return void q("films in queue","queued",1);q("films in queue","queued",Number(d.dataset.page))}}function E(e){e.target===m&&L()}function S(e){"Escape"===e.code&&L()}(0,a.loaderRender)(),p.addEventListener("click",h),g.addEventListener("click",(function(){if(null===JSON.parse(localStorage.getItem("films in queue")))return;q("films in queue","queued",1)})),u.addEventListener("click",(async function(e){e.preventDefault(),e.target.closest("li")&&(f.classList.remove("is-hidden"),c.addEventListener("click",L),m.addEventListener("click",E),window.addEventListener("keydown",S),console.log("I clicked on card"))})),h(),r.addEventListener("click",(function(e){if("LI"!==e.target.nodeName)return;if("..."===e.target.textContent)return;if("ðŸ¡¸"===e.target.textContent){if("watched"===d.dataset.position)return v-=1,void q("watched films","watched",v);if("queued"===d.dataset.position)return v-=1,void q("films in queue","queued",v)}if("ðŸ¡º"===e.target.textContent){if("watched"===d.dataset.position)return v+=1,void q("watched films","watched",v);if("queued"===d.dataset.position)return v+=1,void q("films in queue","queued",v)}const t=Number(e.target.textContent);if(v=t,"watched"===d.dataset.position)return void q("watched films","watched",v);if("queued"===d.dataset.position)return void q("films in queue","queued",v)})),n("22vBn");
//# sourceMappingURL=library.9ee20ce3.js.map
